<div *ngIf="isDataAvailable">
  <app-panel-loader></app-panel-loader>
  <div *ngIf="userRole()" class="container">
    <div class="container">
      <div class="container">
        <h3>Exams</h3>
        <button (click)="create()" class="btn btn-dark" id="create">Create Exam</button>
      </div>
      <div class="container">
        <form #form="ngForm" (ngSubmit)="onSubmit()" class="form-exam">
          <div class="form-group">
            <label for="course">Course</label>
            <select [(ngModel)]="selectedOption" class="form-control form-control-sm" name="course">
              <option *ngFor="let course of courses" [ngValue]="course">{{course.title}}/{{course.year}}</option>
            </select>
          </div>
          <button class="btn btn-success" type="submit">Search</button>
        </form>
      </div>
      <div *ngIf="selected" class="container">
        <input [(ngModel)]="searchText" autocomplete="on" class="form-control-searchbox" name="search"
               placeholder="&#171; Search"
               type="text">
        <table class="table table-striped table-sm">
          <thead class="thead-dark">
          <tr>
            <th>Written At</th>
            <th>Mark</th>
            <th>Functions</th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let exam of exams | filter:searchText">
            <td>{{exam.writtenAt}}</td>
            <td>{{exam.mark}}</td>
            <td>
              <button (click)="update(exam.id)" class="btn btn-warning">Update</button>
              <button (click)="delete(exam.id)" class="btn btn-danger">Delete</button>
            </td>
          </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

